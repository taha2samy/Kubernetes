<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>

<link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; --title-bar-height: 20px; }
.mac-os-11 { --title-bar-height: 28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
h1, h2, h3, h4, h5 { white-space: pre-wrap; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
thead, tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
svg { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; border-color: transparent !important; padding-top: 0px !important; padding-bottom: 0px !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  #write > p:nth-child(1) { margin-top: 0px; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
  figure { overflow-x: visible; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.reversefootnote { font-family: ui-monospace, sans-serif; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex: 2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; overflow-wrap: anywhere; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.42857rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left: 28px solid transparent; border-right: 28px solid transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right: 8px solid transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }
mjx-container { break-inside: avoid; }
.md-alert.md-alert-note { border-left-color: rgb(9, 105, 218); }
.md-alert.md-alert-important { border-left-color: rgb(130, 80, 223); }
.md-alert.md-alert-warning { border-left-color: rgb(154, 103, 0); }
.md-alert.md-alert-tip { border-left-color: rgb(31, 136, 61); }
.md-alert.md-alert-caution { border-left-color: rgb(207, 34, 46); }
.md-alert { padding: 0px 1em; margin-bottom: 16px; color: inherit; border-left: 0.25em solid rgb(0, 0, 0); }
.md-alert-text-note { color: rgb(9, 105, 218); }
.md-alert-text-important { color: rgb(130, 80, 223); }
.md-alert-text-warning { color: rgb(154, 103, 0); }
.md-alert-text-tip { color: rgb(31, 136, 61); }
.md-alert-text-caution { color: rgb(207, 34, 46); }
.md-alert-text { font-size: 0.9rem; font-weight: 700; }
.md-alert-text svg { fill: currentcolor; position: relative; top: 0.125em; margin-right: 1ch; overflow: visible; }
.md-alert-text-container::after { content: attr(data-text); text-transform: capitalize; pointer-events: none; margin-right: 1ch; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
span.cm-underlined { text-decoration: underline; }
span.cm-strikethrough { text-decoration: line-through; }
.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }
.cm-tw-deleted { text-decoration: line-through; }
.cm-tw-header5 { font-weight: 700; }
.cm-tw-listitem:first-child { padding-left: 10px; }
.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }
.cm-tw-underline { text-decoration: underline; }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, 'Segoe UI Emoji', sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    pre {
        page-break-inside: avoid;
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.mac-os #write{
    caret-color: AccentColor;
}

.md-lang {
    color: #b4654d;
}

/*.html-for-mac {
    --item-hover-bg-color: #E6F0FE;
}*/

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
    opacity: 0.4;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

.menu-item-container a.menu-style-btn {
    background-color: #f5f8fa;
    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); 
}


body {
 font-size: 1.25rem;
}
#write {
    direction: rtl;
    text-align: right;
}
.md-fences {
    direction: ltr;
}
div.md-alert-note {
  background-color: #e9eff3;
  padding: 1rem;
  margin: 1rem 0;
  border-radius: 5px;
  font-size: 1rem;
  color: #24292e;
  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
}
span.md-alert-text-note{
  font-size: 170%;
  /* زيادة حجم النص بنسبة 50% */
}
div.md-alert-tip {
  background-color: #c7cfcad8;
  padding: 1rem;
  margin: 1rem 0;
  border-radius: 5px;
  font-size: 1rem;
  color: #24292e;
  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
}
span.md-alert-text-tip{
  font-size: 170%;
  /* زيادة حجم النص بنسبة 50% */
}

div.md-alert-important {
  background-color: #d4bee4;
  padding: 1rem;
  margin: 1rem 0;
  border-radius: 5px;
  font-size: 1rem;
  color: #24292e;
  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
}
span.md-alert-text-important{
  font-size: 170%;
  /* زيادة حجم النص بنسبة 50% */
}

body {
  font-family: 'Alarabiya Font', sans-serif;
}
h1 {
  color: #0366d6; /* أزرق داكن */
  font-size: 2.5rem;
  font-weight: normal; /* إزالة خط bold */
  border-bottom: 2px solid #0366d6;
  margin-bottom: 1rem;
  text-transform: uppercase; /* تحويل النص إلى أحرف كبيرة */
  letter-spacing: 1px; /* زيادة المسافة بين الحروف */
}

/* عنوان المستوى الثاني */
h2 {
  color: #2e6da4; /* أزرق متوسط */
  font-size: 2rem;
  font-weight: normal; /* إزالة خط bold */
  border-left: 4px solid #5bc0de; /* شريط أزرق فاتح على اليسار */
  padding-left: 0.5rem;
  margin-bottom: 0.75rem;
  text-transform: capitalize; /* تحويل أول حرف لكل كلمة إلى حرف كبير */
}

/* عنوان المستوى الثالث */
h3 {
  color: #d9534f; /* أحمر */
  font-size: 1.75rem;
  font-weight: normal; /* إزالة خط bold */
  border-left: 4px dashed #f0ad4e; /* شريط أصفر على اليسار */
  padding-left: 0.5rem;
  margin-bottom: 0.5rem;
  text-transform: capitalize; /* تحويل أول حرف لكل كلمة إلى حرف كبير */
}

/* عنوان المستوى الرابع */
h4 {
  color: #f0ad4e; /* أصفر */
  font-size: 1.5rem;
  font-weight: normal; /* إزالة خط bold */
  margin-bottom: 0.5rem;
  text-transform: capitalize; /* تحويل أول حرف لكل كلمة إلى حرف كبير */
}
h4 {
  color: #f0ad4e; /* أصفر */
  font-size: 1.5rem;
}

/* عنوان المستوى الخامس */
h5 {
  color: #5bc0de; /* أزرق فاتح */
  font-size: 1.25rem;
}

/* عنوان المستوى السادس */
h6 {
  color: #6c757d; /* رمادي */
  font-size: 1rem;
}
code {
  text-align: left;
  color: red;

}


</style><title>book</title>
</head>
<body class='typora-export os-windows'><div class='typora-export-content'>
<div id='write'  class=''><ul><li class='md-task-list-item task-list-item task-list-not-done' ><input type='checkbox' /><h1 id='4-العمل-مع-pods'><strong><span>4: العمل مع Pods</span></strong><span>  </span></h1></li></ul><p><span>كل تطبيق على Kubernetes يعمل داخل Pod.</span><br/><span>• • When you deploy an app, you deploy it in a Pod</span>
<span>• When you terminate an app, you terminate its Pod</span>
<span>• When you scale an app up, you add more Pods</span>
<span>• When you scale an app down, you remove Pods</span>
<span>• When you update an app, you deploy new Pods</span>
<span>هذا يجعل Pods مهمة، وهو السبب وراء تفصيل هذا الفصل.</span><br/><span>يتكون الفصل من جزئين رئيسيين:</span><br/><span>• نظرية Pod</span><br/><span>• العمل العملي مع Pods</span><br/><span>إذا كان بعض المحتوى الذي نحن على وشك تغطيته يبدو مألوفًا، فذلك لأننا نبني على بعض المفاهيم التي تم تقديمها في الفصل 2.</span><br/><span>كما سنكتشف أيضًا أن Kubernetes يستخدم Pods لتشغيل أنواع مختلفة من أحمال العمل. ومع ذلك، في معظم الأحيان، تعمل Pods على تشغيل الحاويات، لذا سنشير إلى الحاويات في معظم الأمثلة.  </span></p><ol start='' ><li><p><span>يركز kubernetes على كيفية عمل deploy و عمل Manage  للــpods  بدون ما تراعي ما بداخل pods </span></p></li><li><p><span>الاحمال غير المتجانسة (Heterogenous workloads) أي من تطبيقات مختلفة تسطيع العمل بجانب بعضها البعض وفى نفس cluster وتستفيد من kubernetes API (وتعني انه يقدم api تسمح للمستخدمين بتحديد desired  state الخاصة بالــkubernetes وبأدارت التغييرات المطلوبة  مثل auto scalling و أيضا rolling update غيرها )  وتحصل عل جميع فوائد pods</span></p></li></ol><p><span>تعمل </span><strong><span>Containers</span></strong><span> و</span><strong><span>Wasm</span></strong><span> apps مع </span><strong><span>standard Pods</span></strong><span> و</span><strong><span>standard workload controllers</span></strong><span> و</span><strong><span>standard runtimes</span></strong><span>. ومع ذلك، تحتاج </span><strong><span>serverless functions</span></strong><span> و</span><strong><span>VMs</span></strong><span> إلى بعض المساعدة الإضافية بمعنى قد تستخدم بعض الادوات الاضافية والاعدادت.</span></p><p><span>تعمل </span><strong><span>Serverless functions</span></strong><span> داخل standard Pods ولكنها تتطلب تطبيقات مثل </span><strong><span>Knative</span></strong><span>  لاجل extend  للـ  API باستخدام موارد و controllers مخصصة. </span><strong><span>VMs</span></strong><span> مشابهة، حيث تحتاج إلى تطبيقات مثل </span><strong><span>KubeVirt</span></strong><span> لاجل extend  للـ  API  الخاصة به .</span></p><p><span>يوضح الشكل 4.1 أربعة أحمال عمل مختلفة تعمل على نفس </span><strong><span>cluster</span></strong><span>. يتم تغليف كل حمل عمل داخل </span><strong><span>Pod</span></strong><span>، ويتم إدارته بواسطة </span><strong><span>controller</span></strong><span>، ويستخدم standard runtime . تعمل أحمال عمل </span><strong><span>VM</span></strong><span> داخل </span><strong><span>VirtualMachineInstance (VMI)</span></strong><span> بدلاً من </span><strong><span>Pod</span></strong><span>، ولكن </span><strong><span>VMIs</span></strong><span> تشبه إلى حد كبير </span><strong><span>Pods</span></strong><span> وتستفيد من العديد من ميزات </span><strong><span>Pods</span></strong><span>.</span></p><p><img src="image.png" referrerpolicy="no-referrer" alt="alt text"></p><p><span>الـ Pods  تعزيز او تحسن workload بعدة طرق</span></p><p><span>كيفية تعزيز Pods للأحمال:</span></p><ol start='' ><li><p><strong><span>مشاركة الموارد (Resource sharing)</span></strong><span>:</span></p><ul><li><p><strong><span>ماذا يعني؟</span></strong><span>: يمكن للحاويات (containers) الموجودة داخل نفس Pod أن تشارك نفس الموارد، مثل الذاكرة (RAM) ووحدة المعالجة المركزية (CPU).</span></p></li><li><p><strong><span>الفائدة</span></strong><span>: يساعد ذلك في استخدام الموارد بشكل أفضل، حيث يمكن أن تعمل الحاويات معًا بشكل أكثر كفاءة.</span></p></li></ul></li><li><p><strong><span>جدولة متقدمة (Advanced scheduling)</span></strong><span>:</span></p><ul><li><p><strong><span>ماذا يعني؟</span></strong><span>: تقوم Kubernetes بتوزيع Pods على العقد (nodes) في الـ cluster بشكل ذكي.</span></p></li><li><p><strong><span>الفائدة</span></strong><span>: يضمن ذلك أن تكون الموارد متاحة وأن تعمل التطبيقات بسلاسة دون أي مشاكل في الأداء.</span></p></li></ul></li><li><p><strong><span>فحوصات صحة التطبيق (Application health probes)</span></strong><span>:</span></p><ul><li><p><strong><span>ماذا يعني؟</span></strong><span>: توفر Kubernetes طرقًا لفحص صحة containers داخل Pods. </span></p></li><li><p><strong><span>الفائدة</span></strong><span>: إذا كانت container غير سليمة أو تحتاج إلى إعادة تشغيل، يمكن للنظام اكتشاف ذلك وإعادة تشغيل container تلقائيًا.</span></p></li></ul></li><li><p><strong><span>سياسات إعادة التشغيل (Restart policies)</span></strong><span>:</span></p><ul><li><p><strong><span>ماذا يعني؟</span></strong><span>: تحدد كيفية تعامل Kubernetes مع الحاويات عند حدوث خطأ.</span></p></li><li><p><strong><span>الفائدة</span></strong><span>: إذا تعطل تطبيق، يمكن لـ Kubernetes إعادة تشغيله تلقائيًا، مما يقلل من الوقت الذي يكون فيه التطبيق غير متاح.</span></p></li></ul></li><li><p><strong><span>سياسات الأمان (Security policies)</span></strong><span>:</span></p><ul><li><p><strong><span>ماذا يعني؟</span></strong><span>: تُستخدم سياسات مختلفة لحماية Pods.</span></p></li><li><p><strong><span>الفائدة</span></strong><span>: تضمن هذه السياسات أن التطبيقات آمنة وتتحكم في من يمكنه الوصول إليها.</span></p></li></ul></li><li><p><strong><span>التحكم في الإنهاء (Termination control)</span></strong><span>:</span></p><ul><li><p><strong><span>ماذا يعني؟</span></strong><span>: يُعطى التحكم في كيفية إنهاء Pods.</span></p></li><li><p><strong><span>الفائدة</span></strong><span>: يضمن ذلك عدم فقدان البيانات عند إيقاف تشغيل التطبيقات.</span></p></li></ul></li><li><p><strong><span>(Volumes)</span></strong><span>:</span></p><ul><li><p><strong><span>ماذا يعني؟</span></strong><span>: يمكن لـ Pods استخدام Volumes لتخزين البيانات.</span></p></li><li><p><strong><span>الفائدة</span></strong><span>: يتيح ذلك للحاويات داخل Pod مشاركة البيانات بسهولة.</span></p></li></ul></li></ol><p><span>يمكنك معرفة attribute ألخاصة بـpods من خلال الامر التالي يظهر كل attr الخاصة بـpods  وساسية اعادة التشغيل</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 12.3984px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">$ kubectl</span> explain pods <span class="cm-attribute">--recursive</span></span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 29px;"></div><div class="CodeMirror-gutters" style="display: none; height: 29px;"></div></div></div></pre><p>&nbsp;</p><ul><li><p><strong><span>ماذا يفعل؟</span></strong><span>: يُظهر تفاصيل شاملة حول جميع خصائص Pods تظهر خصائص كثيرة تصل فوق 1000 سطر.</span></p></li><li><p><strong><span>الفائدة</span></strong><span>: يساعد المطورين على فهم كيفية عمل Pods وخصائصها.</span></p></li></ul><ul><li><p><code>$ kubectl explain pod.spec.restartPolicy</code></p><ul><li><p><strong><span>ماذا يفعل؟</span></strong><span>: يوضح كيفية ضبط سياسة إعادة التشغيل containers داخل Pod.</span></p></li><li><p><strong><span>الفائدة</span></strong><span>: يساعد في تحديد ما يحدث عند تعطل تطبيق، سواء سيتم إعادة تشغيله دائمًا، أو عدم إعادة تشغيله، أو إعادة تشغيله عند حدوث فشل.</span></p></li></ul></li></ul><p><span>تمكن Pods من مشاركة الموارد.</span><br/><span>تشغل Pods واحداً أو أكثر من  container، وتشارك جميع  containers في نفس Pod بيئة التنفيذ الخاصة بالـ Pod. وهذا يشمل: </span>
<span>• Shared filesystem and volumes (mnt namespace)</span>
<span>• Shared network stack (net namespace)</span>
<span>• Shared memory (IPC namespace)</span>
<span>• Shared process tree (pid namespace)</span>
<span>• Shared hostname (uts namespace)</span></p><p><span>تظهر الصورة 4.2  multi containers Pod  حيث تشارك كلا الحاويتين نفس volume و أيضا شبكة Pod .</span></p><p><img src="image-1.png" referrerpolicy="no-referrer" alt="Figure 4.2 - Multi-container Pod sharing IP and volume"></p><p><span>يمكن للتطبيقات والعملاء الآخرين الوصول إلى containers عبر عنوان IP الخاص بالـ Pod 10.0.10.15 — حيث يتوفر container  التطبيق الرئيسية على المنفذ 8080 وحاوية الـ sidecar على المنفذ 5005. يمكنهم استخدام  localhost الخاص بالـ Pod إذا كانوا بحاجة للتواصل مع بعضهم داخل الـ Pod. كما أن كلا  containers يقومان بعمل   mount على نفس volume وأي   Pod ويمكنهما استخدامه لمشاركة البيانات. على سبيل المثال، قد يقوم container الـ sidecar بمزامنة المحتوى الثابت من  Git repo بعيد وتخزينه في volume حيث تقوم main containers بقراءته وتقديمه كصفحة ويب.</span></p><h3 id='pods-and-scheduling'><span>Pods and scheduling</span></h3><p><span>تضمن Kubernetes  ان  يحدث scheduling  لجميع containers في نفس الـ Pod على نفس الـ cluster. على الرغم من ذلك، يجب عليك وضع containers في نفس الـ Pod فقط إذا كانت تحتاج لمشاركة الموارد مثل الذاكرة، و volumes، والشبكات. إذا كان متطلبك الوحيد هو scheduling   الـ containers على نفس cluster، فيجب عليك وضعهما في Pods منفصلة واستخدام أحد الخيارات التالية لجدولتهما معًا.</span></p><div class="md-alert md-alert-tip tip"><p><span class='md-alert-text md-alert-text-tip'><svg viewBox="0 0 16 16" version="1.1" width="1em" height="1em" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</span><br></p><p><span>قبل المتابعة، تذكر أن </span><strong><span>nodes</span></strong><span> هي host server يمكن أن تكون physical server، أو VM، أو   cloud instances  فى النهاية. </span><strong><span>Pods</span></strong><span> تغلف </span><strong><span>containers</span></strong><span> وتنفذ على </span><strong><span>nodes</span></strong><span>.</span></p></div><p>&nbsp;</p><p><span>توفر Pods العديد من ميزات </span><strong><span>scheduling</span></strong><span> المتقدمة، بما في ذلك جميع الميزات التالية:</span></p><ul><li><p><strong><span>nodeSelectors</span></strong></p></li><li><p><strong><span>Affinity</span></strong><span> و </span><strong><span>anti-affinity</span></strong></p></li><li><p><strong><span>Topology spread constraints</span></strong></p><p><strong><span>(resource requests and resource limits)</span></strong></p></li></ul><p><span>تعد </span><strong><span>nodeSelectors</span></strong><span> الطريقة الأبسط لتشغيل Pods على </span><strong><span>nodes</span></strong><span> محددة. يمكنك إعطاء </span><strong><span>nodeSelector</span></strong><span> قائمة من </span><strong><span>labels</span></strong><span>، وسيتولى </span><strong><span>scheduler</span></strong><span> تعيين </span><strong><span>Pod</span></strong><span> إلى </span><strong><span>node</span></strong><span> التي تحتوي على جميع </span><strong><span>labels</span></strong><span>.</span></p><p><span>تشبه قواعد </span><strong><span>affinity</span></strong><span> و </span><strong><span>anti-affinity</span></strong><span> </span><strong><span>nodeSelector</span></strong><span> لكنها أكثر قوة. </span></p><p><span>وكما يوضح الاسمان ، فهي تدعم قواعد </span><strong><span>affinity</span></strong><span> و </span><strong><span>anti-affinity</span></strong><span>، وأيضًا تدعم  </span><strong><span>(hard rules)</span></strong><span> و (soft rules)</span><strong><span>، ويمكنها الاختيار بين </span></strong><span>nodes** و </span><strong><span>Pods</span></strong><span>:</span></p><div class="md-alert md-alert-tip tip"><p><span class='md-alert-text md-alert-text-tip'><svg viewBox="0 0 16 16" version="1.1" width="1em" height="1em" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</span><br></p><p><span>ويمكنها الاختيار بين </span><strong><span>nodes</span></strong><span> و </span><strong><span>Pods</span></strong><span>: معنى هذة الجملة </span></p><p><span>بمعنى آخر، يمكنك استخدام </span><strong><span>affinity</span></strong><span> و </span><strong><span>anti-affinity</span></strong><span> لتحديد أين يجب أن يتم توزيع </span><strong><span>Pods</span></strong><span> بالنسبة لبعضها البعض أو بالنسبة لمجموعة معينة من </span><strong><span>nodes</span></strong><span>، وذلك من خلال إنشاء قواعد تجعل </span><strong><span>Pods</span></strong><span>:</span></p><ul><li><p><span>تُفضل أو تبتعد عن بعضها البعض داخل نفس </span><strong><span>node</span></strong><span>.</span></p></li><li><p><span>تنتشر على </span><strong><span>nodes</span></strong><span> معينة أو تتجنبها.</span></p></li></ul></div><p>&nbsp;</p><ul><li><p><span>Affinity rules attract</span></p></li><li><p><span>• Anti-affinity rules repel</span></p></li><li><p><span>• Hard rules must be obeyed</span></p></li><li><p><span>• Soft rules are only suggestions</span></p></li></ul><p><span>اختيار </span><strong><span>nodes</span></strong><span> أمر شائع ويعمل مثل </span><strong><span>nodeSelector</span></strong><span> حيث تقدم قائمة من </span><strong><span>labels</span></strong><span>، ويقوم </span><strong><span>scheduler</span></strong><span> بتعيين </span><strong><span>Pod</span></strong><span> إلى </span><strong><span>nodes</span></strong><span> التي تمتلك هذه </span><strong><span>labels</span></strong><span>.</span></p><p><span>للاختيار بناءً على </span><strong><span>Pods</span></strong><span>، يستخدم </span><strong><span>scheduler</span></strong><span> قائمة مشابهة من </span><strong><span>labels</span></strong><span> ويقوم بجدولة </span><strong><span>Pod</span></strong><span> على </span><strong><span>nodes</span></strong><span> التي تشغل </span><strong><span>Pods</span></strong><span> أخرى تمتلك نفس </span><strong><span>labels</span></strong><span> بحثيث انني اجعل Pod تعمل بجانب Pod أخرى </span></p><p><span>اعتبر بعض الأمثلة.</span><br/><span> hard node affinity rule  التي تحدد </span><strong><span>label</span></strong><span> </span><strong><span>project=qsk</span></strong><span> تخبر </span><strong><span>scheduler</span></strong><span> بأنه يمكنه تشغيل </span><strong><span>Pod</span></strong><span> فقط على </span><strong><span>nodes</span></strong><span> التي تحمل </span><strong><span>label</span></strong><span> </span><strong><span>project=qsk</span></strong><span>. إذا لم يتمكن من العثور على </span><strong><span>node</span></strong><span> بهذا </span><strong><span>label</span></strong><span>، فلن يقوم بـschedule  الـ </span><strong><span>Pod</span></strong><span> وستكون pending . إذا كانت soft rule، فسيحاول </span><strong><span>scheduler</span></strong><span> العثور على </span><strong><span>node</span></strong><span> بالـ </span><strong><span>label</span></strong><span>، ولكن إذا لم يجد واحدة، فسيقوم بجدولته على أي node . إذا كانت قاعدة </span><strong><span>anti-affinity</span></strong><span>، فسيبحث </span><strong><span>scheduler</span></strong><span> عن </span><strong><span>nodes</span></strong><span> التي لا تمتلك </span><strong><span>label</span></strong><span>. وبنفس المنطق السابق لكل  Pod-based rules</span></p><p><span>أيضا نشر Pods طبقا للـtopology الخاص بك فيمكنك عمل deploy  للـ pods بذكاء على infrustructure  من اجل الحصول availability و افضل performance و أو طبقا للـlocality بحيث اختار الأقرب لمكان معين او لاي متطلبات اخرى </span></p></div></div>
</body>
</html>